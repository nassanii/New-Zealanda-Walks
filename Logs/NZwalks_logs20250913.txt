2025-09-13 15:17:07.754 +03:00 [INF] User profile is available. Using 'C:\Users\abdur\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-13 15:17:08.071 +03:00 [INF] Now listening on: https://localhost:7189
2025-09-13 15:17:08.074 +03:00 [INF] Now listening on: http://localhost:5127
2025-09-13 15:17:08.135 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-13 15:17:08.137 +03:00 [INF] Hosting environment: Development
2025-09-13 15:17:08.140 +03:00 [INF] Content root path: C:\Users\abdur\projects\NZwalks.API
2025-09-13 15:19:15.149 +03:00 [INF] User profile is available. Using 'C:\Users\abdur\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-13 15:19:15.506 +03:00 [INF] Now listening on: https://localhost:7189
2025-09-13 15:19:15.509 +03:00 [INF] Now listening on: http://localhost:5127
2025-09-13 15:19:15.546 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-13 15:19:15.548 +03:00 [INF] Hosting environment: Development
2025-09-13 15:19:15.551 +03:00 [INF] Content root path: C:\Users\abdur\projects\NZwalks.API
2025-09-13 15:19:38.528 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ - null null
2025-09-13 15:19:38.716 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ - 404 0 null 194.4171ms
2025-09-13 15:19:38.731 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7189/, Response status code: 404
2025-09-13 15:19:41.607 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2025-09-13 15:19:41.631 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2025-09-13 15:19:41.631 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 16507 application/javascript; charset=utf-8 23.9922ms
2025-09-13 15:19:41.666 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 34.8664ms
2025-09-13 15:19:41.709 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/swagger/v1/swagger.json - null null
2025-09-13 15:19:41.732 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 23.5684ms
2025-09-13 15:19:46.217 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/api/Walks?pageNumber=1&pageSize=100 - null null
2025-09-13 15:19:46.230 +03:00 [INF] Executing endpoint 'NZwalks.API.Controllers.WalksController.GetAll (NZwalks.API)'
2025-09-13 15:19:46.252 +03:00 [INF] Route matched with {action = "GetAll", controller = "Walks"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.String, System.String, System.String, System.Nullable`1[System.Boolean], Int32, Int32) on controller NZwalks.API.Controllers.WalksController (NZwalks.API).
2025-09-13 15:19:47.242 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-09-13 15:19:47.245 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-09-13 15:19:47.677 +03:00 [INF] Executed DbCommand (51ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [w0].[Id], [w0].[Description], [w0].[DifficultyId], [w0].[LengthInKm], [w0].[Name], [w0].[RegionId], [w0].[WalkImgUrl], [r].[Id], [r].[Code], [r].[Name], [r].[RegionImgURL], [d].[Id], [d].[Name]
FROM (
    SELECT [w].[Id], [w].[Description], [w].[DifficultyId], [w].[LengthInKm], [w].[Name], [w].[RegionId], [w].[WalkImgUrl]
    FROM [walks] AS [w]
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [w0]
INNER JOIN [regions] AS [r] ON [w0].[RegionId] = [r].[Id]
INNER JOIN [difficulties] AS [d] ON [w0].[DifficultyId] = [d].[Id]
2025-09-13 15:19:57.294 +03:00 [INF] Executed action NZwalks.API.Controllers.WalksController.GetAll (NZwalks.API) in 11033.0291ms
2025-09-13 15:19:57.298 +03:00 [INF] Executed endpoint 'NZwalks.API.Controllers.WalksController.GetAll (NZwalks.API)'
2025-09-13 15:19:57.361 +03:00 [ERR] a1dbb628-fcc6-4382-876c-931843af87c2  : this is an excepation
System.Exception: this is an excepation
   at NZwalks.API.Controllers.WalksController.GetAll(String filterOn, String filterQuery, String sortBy, Nullable`1 isAscending, Int32 pageNumber, Int32 pageSize) in C:\Users\abdur\projects\NZwalks.API\Controllers\WalksController.cs:line 73
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at NZwalks.API.Midldlewares.ExptionHandelerMiddleware.InvokeAsync(HttpContext context) in C:\Users\abdur\projects\NZwalks.API\Midldlewares\ExptionHandelerMiddleware.cs:line 20
2025-09-13 15:19:57.404 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/api/Walks?pageNumber=1&pageSize=100 - 500 null application/json; charset=utf-8 11187.1373ms
2025-09-13 15:23:48.230 +03:00 [INF] User profile is available. Using 'C:\Users\abdur\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-13 15:23:48.604 +03:00 [INF] Now listening on: https://localhost:7189
2025-09-13 15:23:48.607 +03:00 [INF] Now listening on: http://localhost:5127
2025-09-13 15:23:48.643 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-13 15:23:48.646 +03:00 [INF] Hosting environment: Development
2025-09-13 15:23:48.648 +03:00 [INF] Content root path: C:\Users\abdur\projects\NZwalks.API
2025-09-13 15:23:56.010 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ - null null
2025-09-13 15:23:56.242 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ - 404 0 null 239.1317ms
2025-09-13 15:23:56.257 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7189/, Response status code: 404
2025-09-13 15:23:59.882 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2025-09-13 15:23:59.893 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 16507 application/javascript; charset=utf-8 10.4985ms
2025-09-13 15:23:59.899 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2025-09-13 15:23:59.940 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 40.5218ms
2025-09-13 15:23:59.985 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/swagger/v1/swagger.json - null null
2025-09-13 15:24:00.009 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 24.1889ms
2025-09-13 15:24:04.937 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/api/Walks?pageNumber=1&pageSize=100 - null null
2025-09-13 15:24:04.955 +03:00 [INF] Executing endpoint 'NZwalks.API.Controllers.WalksController.GetAll (NZwalks.API)'
2025-09-13 15:24:04.975 +03:00 [INF] Route matched with {action = "GetAll", controller = "Walks"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.String, System.String, System.String, System.Nullable`1[System.Boolean], Int32, Int32) on controller NZwalks.API.Controllers.WalksController (NZwalks.API).
2025-09-13 15:24:05.766 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-09-13 15:24:05.769 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-09-13 15:24:06.188 +03:00 [INF] Executed DbCommand (49ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [w0].[Id], [w0].[Description], [w0].[DifficultyId], [w0].[LengthInKm], [w0].[Name], [w0].[RegionId], [w0].[WalkImgUrl], [r].[Id], [r].[Code], [r].[Name], [r].[RegionImgURL], [d].[Id], [d].[Name]
FROM (
    SELECT [w].[Id], [w].[Description], [w].[DifficultyId], [w].[LengthInKm], [w].[Name], [w].[RegionId], [w].[WalkImgUrl]
    FROM [walks] AS [w]
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [w0]
INNER JOIN [regions] AS [r] ON [w0].[RegionId] = [r].[Id]
INNER JOIN [difficulties] AS [d] ON [w0].[DifficultyId] = [d].[Id]
2025-09-13 15:24:06.304 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[NZwalks.API.Models.Walk, NZwalks.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-13 15:24:06.328 +03:00 [INF] Executed action NZwalks.API.Controllers.WalksController.GetAll (NZwalks.API) in 1345.5488ms
2025-09-13 15:24:06.332 +03:00 [INF] Executed endpoint 'NZwalks.API.Controllers.WalksController.GetAll (NZwalks.API)'
2025-09-13 15:24:06.340 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/api/Walks?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 1402.9027ms
2025-09-13 18:17:41.880 +03:00 [INF] User profile is available. Using 'C:\Users\abdur\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-13 18:17:42.168 +03:00 [INF] Now listening on: https://localhost:7189
2025-09-13 18:17:42.172 +03:00 [INF] Now listening on: http://localhost:5127
2025-09-13 18:17:42.210 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-13 18:17:42.212 +03:00 [INF] Hosting environment: Development
2025-09-13 18:17:42.213 +03:00 [INF] Content root path: C:\Users\abdur\projects\NZwalks.API
2025-09-13 18:27:24.900 +03:00 [INF] User profile is available. Using 'C:\Users\abdur\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-13 18:27:25.175 +03:00 [INF] Now listening on: https://localhost:7189
2025-09-13 18:27:25.177 +03:00 [INF] Now listening on: http://localhost:5127
2025-09-13 18:27:25.222 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-13 18:27:25.223 +03:00 [INF] Hosting environment: Development
2025-09-13 18:27:25.224 +03:00 [INF] Content root path: C:\Users\abdur\projects\NZwalks.API
2025-09-13 18:27:49.737 +03:00 [INF] User profile is available. Using 'C:\Users\abdur\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-13 18:27:50.071 +03:00 [INF] Now listening on: https://localhost:7189
2025-09-13 18:27:50.075 +03:00 [INF] Now listening on: http://localhost:5127
2025-09-13 18:27:50.116 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-13 18:27:50.118 +03:00 [INF] Hosting environment: Development
2025-09-13 18:27:50.121 +03:00 [INF] Content root path: C:\Users\abdur\projects\NZwalks.API
2025-09-13 18:28:19.914 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ - null null
2025-09-13 18:28:20.144 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ - 404 0 null 238.76ms
2025-09-13 18:28:20.157 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7189/, Response status code: 404
2025-09-13 18:28:23.807 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2025-09-13 18:28:23.826 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 16507 application/javascript; charset=utf-8 18.5196ms
2025-09-13 18:28:23.829 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2025-09-13 18:28:23.874 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 44.2188ms
2025-09-13 18:28:23.915 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/swagger/v1/swagger.json - null null
2025-09-13 18:28:23.940 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 25.4612ms
2025-09-13 18:29:15.277 +03:00 [INF] User profile is available. Using 'C:\Users\abdur\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-13 18:29:15.539 +03:00 [INF] Now listening on: https://localhost:7189
2025-09-13 18:29:15.541 +03:00 [INF] Now listening on: http://localhost:5127
2025-09-13 18:29:15.577 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-13 18:29:15.578 +03:00 [INF] Hosting environment: Development
2025-09-13 18:29:15.581 +03:00 [INF] Content root path: C:\Users\abdur\projects\NZwalks.API
2025-09-13 18:29:25.253 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ - null null
2025-09-13 18:29:25.453 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ - 404 0 null 210.1383ms
2025-09-13 18:29:25.461 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7189/, Response status code: 404
2025-09-13 18:29:28.629 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2025-09-13 18:29:28.640 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 16507 application/javascript; charset=utf-8 11.2795ms
2025-09-13 18:29:28.654 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2025-09-13 18:29:28.688 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 33.3235ms
2025-09-13 18:29:28.730 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/swagger/v1/swagger.json - null null
2025-09-13 18:29:28.753 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 23.0265ms
2025-09-13 18:29:41.989 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/api/Region - null null
2025-09-13 18:29:41.998 +03:00 [INF] Executing endpoint 'NZwalks.API.Controllers.RegionController.GetAll (NZwalks.API)'
2025-09-13 18:29:42.017 +03:00 [INF] Route matched with {action = "GetAll", controller = "Region"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller NZwalks.API.Controllers.RegionController (NZwalks.API).
2025-09-13 18:29:43.098 +03:00 [ERR] An error occurred using the connection to database 'NZwalks1' on server 'NASSANI'.
2025-09-13 18:29:43.131 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'NZwalks.API.Data.ApplicationDbContext'.
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure. Consider enabling transient error resiliency by adding 'EnableRetryOnFailure' to the 'UseSqlServer' call.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "NZwalks1" requested by the login. The login failed.
Login failed for user 'nassani\abdur'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
ClientConnectionId:07a95158-0bb9-4489-8c91-1e07a84a2fc4
Error Number:4060,State:1,Class:11
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure. Consider enabling transient error resiliency by adding 'EnableRetryOnFailure' to the 'UseSqlServer' call.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "NZwalks1" requested by the login. The login failed.
Login failed for user 'nassani\abdur'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
ClientConnectionId:07a95158-0bb9-4489-8c91-1e07a84a2fc4
Error Number:4060,State:1,Class:11
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-09-13 20:10:07.674 +03:00 [INF] User profile is available. Using 'C:\Users\abdur\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-13 20:10:07.970 +03:00 [INF] Now listening on: https://localhost:7189
2025-09-13 20:10:07.974 +03:00 [INF] Now listening on: http://localhost:5127
2025-09-13 20:10:08.008 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-13 20:10:08.009 +03:00 [INF] Hosting environment: Development
2025-09-13 20:10:08.012 +03:00 [INF] Content root path: C:\Users\abdur\projects\NZwalks.API
2025-09-13 20:10:11.696 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/ - null null
2025-09-13 20:10:11.895 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/ - 404 0 null 205.3358ms
2025-09-13 20:10:11.905 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7189/, Response status code: 404
2025-09-13 20:10:14.598 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - null null
2025-09-13 20:10:14.618 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - 200 16507 application/javascript; charset=utf-8 20.4933ms
2025-09-13 20:10:14.625 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - null null
2025-09-13 20:10:14.670 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - 200 null text/javascript; charset=UTF-8 44.4056ms
2025-09-13 20:10:14.711 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/swagger/v1/swagger.json - null null
2025-09-13 20:10:14.736 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 24.3863ms
2025-09-13 20:10:44.238 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7189/api/Auth/Login - application/json 67
2025-09-13 20:10:44.258 +03:00 [INF] Executing endpoint 'NZwalks.API.Controllers.AuthController.Login (NZwalks.API)'
2025-09-13 20:10:44.278 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(NZwalks.API.Models.DTO.LoginRequestDto) on controller NZwalks.API.Controllers.AuthController (NZwalks.API).
2025-09-13 20:10:45.517 +03:00 [INF] Executed DbCommand (50ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-13 20:10:45.693 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-09-13 20:10:45.728 +03:00 [INF] Executing OkObjectResult, writing value of type 'NZwalks.API.Models.DTO.LoginResponseDto'.
2025-09-13 20:10:45.737 +03:00 [INF] Executed action NZwalks.API.Controllers.AuthController.Login (NZwalks.API) in 1451.8471ms
2025-09-13 20:10:45.742 +03:00 [INF] Executed endpoint 'NZwalks.API.Controllers.AuthController.Login (NZwalks.API)'
2025-09-13 20:10:45.750 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7189/api/Auth/Login - 200 null application/json; charset=utf-8 1511.7451ms
2025-09-13 20:11:35.285 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7189/api/Images/Upload - multipart/form-data; boundary=----WebKitFormBoundaryjS5r9mpEn2muVaXF 990799
2025-09-13 20:11:35.374 +03:00 [INF] Executing endpoint 'NZwalks.API.Controllers.ImagesController.Upload (NZwalks.API)'
2025-09-13 20:11:35.382 +03:00 [INF] Route matched with {action = "Upload", controller = "Images"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Upload(NZwalks.API.Models.DTO.UploadImageRequestDto) on controller NZwalks.API.Controllers.ImagesController (NZwalks.API).
2025-09-13 20:11:35.679 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [images] ([Id], [FileDescription], [FileExtension], [FileName], [FilePath], [FileSize])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-09-13 20:11:35.691 +03:00 [INF] Executing OkObjectResult, writing value of type 'NZwalks.API.Models.Image'.
2025-09-13 20:11:35.711 +03:00 [INF] Executed action NZwalks.API.Controllers.ImagesController.Upload (NZwalks.API) in 325.7046ms
2025-09-13 20:11:35.714 +03:00 [INF] Executed endpoint 'NZwalks.API.Controllers.ImagesController.Upload (NZwalks.API)'
2025-09-13 20:11:35.718 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7189/api/Images/Upload - 200 null application/json; charset=utf-8 433.3716ms
2025-09-13 20:11:53.152 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/Images/foto.png - null null
2025-09-13 20:11:53.277 +03:00 [INF] Sending file. Request path: '/foto.png'. Physical path: 'C:\Users\abdur\projects\NZwalks.API\Images\foto.png'
2025-09-13 20:11:53.278 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/Images/foto.png - 200 990393 image/png 126.5537ms
2025-09-13 20:11:53.347 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/favicon.ico - null null
2025-09-13 20:11:53.357 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/favicon.ico - 404 0 null 9.8298ms
2025-09-13 20:11:53.364 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7189/favicon.ico, Response status code: 404
2025-09-13 20:12:13.282 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/api/Region - null null
2025-09-13 20:12:13.292 +03:00 [INF] Executing endpoint 'NZwalks.API.Controllers.RegionController.GetAll (NZwalks.API)'
2025-09-13 20:12:13.297 +03:00 [INF] Route matched with {action = "GetAll", controller = "Region"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller NZwalks.API.Controllers.RegionController (NZwalks.API).
2025-09-13 20:12:13.388 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[Code], [r].[Name], [r].[RegionImgURL]
FROM [regions] AS [r]
2025-09-13 20:12:13.399 +03:00 [INF] Calling the Get All Method
2025-09-13 20:12:13.413 +03:00 [INF] Finish Calling the Get all method with the the data : [{"Id":"906cb139-415a-4bbb-a174-1a1faf9fb1f6","Code":"NSN","Name":"Nelson","RegionImgURL":"https://images.pexels.com/photos/13918194/pexels-photo-13918194.jpeg?auto=compress\u0026cs=tinysrgb\u0026w=1260\u0026h=750\u0026dpr=1"},{"Id":"f7248fc3-2585-4efb-8d1d-1c555f4087f6","Code":"AKL","Name":"Auckland","RegionImgURL":"https://images.pexels.com/photos/5169056/pexels-photo-5169056.jpeg?auto=compress\u0026cs=tinysrgb\u0026w=1260\u0026h=750\u0026dpr=1"},{"Id":"14ceba71-4b51-4777-9b17-46602cf66153","Code":"BOP","Name":"Bay Of Plenty","RegionImgURL":null},{"Id":"6884f7d7-ad1f-4101-8df3-7a6fa7387d81","Code":"NTL","Name":"Northland","RegionImgURL":null},{"Id":"f077a22e-4248-4bf6-b564-c7cf4e250263","Code":"STL","Name":"Southland","RegionImgURL":null},{"Id":"cfa06ed2-bf65-4b65-93ed-c9d286ddb0de","Code":"WGN","Name":"Wellington","RegionImgURL":"https://images.pexels.com/photos/4350631/pexels-photo-4350631.jpeg?auto=compress\u0026cs=tinysrgb\u0026w=1260\u0026h=750\u0026dpr=1"}]
2025-09-13 20:12:13.418 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[NZwalks.API.Models.DTO.RegionDto, NZwalks.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-13 20:12:13.422 +03:00 [INF] Executed action NZwalks.API.Controllers.RegionController.GetAll (NZwalks.API) in 121.4398ms
2025-09-13 20:12:13.423 +03:00 [INF] Executed endpoint 'NZwalks.API.Controllers.RegionController.GetAll (NZwalks.API)'
2025-09-13 20:12:13.425 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/api/Region - 200 null application/json; charset=utf-8 142.8095ms
2025-09-13 20:12:36.865 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7189/api/Region - application/json 71
2025-09-13 20:12:36.877 +03:00 [INF] Executing endpoint 'NZwalks.API.Controllers.RegionController.Create (NZwalks.API)'
2025-09-13 20:12:36.886 +03:00 [INF] Route matched with {action = "Create", controller = "Region"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(NZwalks.API.Models.DTO.AddRegionRequestDto) on controller NZwalks.API.Controllers.RegionController (NZwalks.API).
2025-09-13 20:12:41.821 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [regions] ([Id], [Code], [Name], [RegionImgURL])
VALUES (@p0, @p1, @p2, @p3);
2025-09-13 20:12:41.829 +03:00 [INF] Executing CreatedAtActionResult, writing value of type 'NZwalks.API.Models.DTO.RegionDto'.
2025-09-13 20:12:41.844 +03:00 [INF] Executed action NZwalks.API.Controllers.RegionController.Create (NZwalks.API) in 4955.5069ms
2025-09-13 20:12:41.846 +03:00 [INF] Executed endpoint 'NZwalks.API.Controllers.RegionController.Create (NZwalks.API)'
2025-09-13 20:12:41.848 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7189/api/Region - 201 null application/json; charset=utf-8 4983.4311ms
2025-09-13 20:12:58.433 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/api/Region/e4907de6-619a-46cd-bb62-08ddf2e8bfa5 - null null
2025-09-13 20:12:58.440 +03:00 [INF] Executing endpoint 'NZwalks.API.Controllers.RegionController.GetById (NZwalks.API)'
2025-09-13 20:12:58.447 +03:00 [INF] Route matched with {action = "GetById", controller = "Region"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(System.Guid) on controller NZwalks.API.Controllers.RegionController (NZwalks.API).
2025-09-13 20:12:58.462 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[Code], [r].[Name], [r].[RegionImgURL]
FROM [regions] AS [r]
WHERE [r].[Id] = @__id_0
2025-09-13 20:12:58.467 +03:00 [INF] Executing OkObjectResult, writing value of type 'NZwalks.API.Models.DTO.RegionDto'.
2025-09-13 20:12:58.468 +03:00 [INF] Executed action NZwalks.API.Controllers.RegionController.GetById (NZwalks.API) in 16.6223ms
2025-09-13 20:12:58.470 +03:00 [INF] Executed endpoint 'NZwalks.API.Controllers.RegionController.GetById (NZwalks.API)'
2025-09-13 20:12:58.471 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/api/Region/e4907de6-619a-46cd-bb62-08ddf2e8bfa5 - 200 null application/json; charset=utf-8 38.2382ms
2025-09-13 20:13:28.952 +03:00 [INF] Request starting HTTP/2 PUT https://localhost:7189/api/Region/e4907de6-619a-46cd-bb62-08ddf2e8bfa5 - application/json 72
2025-09-13 20:13:28.976 +03:00 [INF] Executing endpoint 'NZwalks.API.Controllers.RegionController.Update (NZwalks.API)'
2025-09-13 20:13:28.980 +03:00 [INF] Route matched with {action = "Update", controller = "Region"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(System.Guid, NZwalks.API.Models.DTO.UpdateRegionRequestDto) on controller NZwalks.API.Controllers.RegionController (NZwalks.API).
2025-09-13 20:13:28.986 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-09-13 20:13:29.004 +03:00 [INF] Executed action NZwalks.API.Controllers.RegionController.Update (NZwalks.API) in 23.0555ms
2025-09-13 20:13:29.007 +03:00 [INF] Executed endpoint 'NZwalks.API.Controllers.RegionController.Update (NZwalks.API)'
2025-09-13 20:13:29.009 +03:00 [INF] Request finished HTTP/2 PUT https://localhost:7189/api/Region/e4907de6-619a-46cd-bb62-08ddf2e8bfa5 - 400 null application/problem+json; charset=utf-8 82.7833ms
2025-09-13 20:13:45.066 +03:00 [INF] Request starting HTTP/2 PUT https://localhost:7189/api/Region/e4907de6-619a-46cd-bb62-08ddf2e8bfa5 - application/json 68
2025-09-13 20:13:45.071 +03:00 [INF] Executing endpoint 'NZwalks.API.Controllers.RegionController.Update (NZwalks.API)'
2025-09-13 20:13:45.074 +03:00 [INF] Route matched with {action = "Update", controller = "Region"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(System.Guid, NZwalks.API.Models.DTO.UpdateRegionRequestDto) on controller NZwalks.API.Controllers.RegionController (NZwalks.API).
2025-09-13 20:13:45.086 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[Code], [r].[Name], [r].[RegionImgURL]
FROM [regions] AS [r]
WHERE [r].[Id] = @__id_0
2025-09-13 20:13:45.100 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p3='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [regions] SET [Code] = @p0, [Name] = @p1, [RegionImgURL] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2025-09-13 20:13:45.105 +03:00 [INF] Executing OkObjectResult, writing value of type 'NZwalks.API.Models.DTO.RegionDto'.
2025-09-13 20:13:45.106 +03:00 [INF] Executed action NZwalks.API.Controllers.RegionController.Update (NZwalks.API) in 29.2744ms
2025-09-13 20:13:45.108 +03:00 [INF] Executed endpoint 'NZwalks.API.Controllers.RegionController.Update (NZwalks.API)'
2025-09-13 20:13:45.110 +03:00 [INF] Request finished HTTP/2 PUT https://localhost:7189/api/Region/e4907de6-619a-46cd-bb62-08ddf2e8bfa5 - 200 null application/json; charset=utf-8 44.0414ms
2025-09-13 20:13:57.826 +03:00 [INF] Request starting HTTP/2 DELETE https://localhost:7189/api/Region/e4907de6-619a-46cd-bb62-08ddf2e8bfa5 - null null
2025-09-13 20:13:57.841 +03:00 [INF] Executing endpoint 'NZwalks.API.Controllers.RegionController.Delete (NZwalks.API)'
2025-09-13 20:13:57.849 +03:00 [INF] Route matched with {action = "Delete", controller = "Region"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Delete(System.Guid) on controller NZwalks.API.Controllers.RegionController (NZwalks.API).
2025-09-13 20:13:57.856 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[Code], [r].[Name], [r].[RegionImgURL]
FROM [regions] AS [r]
WHERE [r].[Id] = @__id_0
2025-09-13 20:13:57.877 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [regions]
OUTPUT 1
WHERE [Id] = @p0;
2025-09-13 20:13:57.883 +03:00 [INF] Executing OkObjectResult, writing value of type 'NZwalks.API.Models.DTO.RegionDto'.
2025-09-13 20:13:57.884 +03:00 [INF] Executed action NZwalks.API.Controllers.RegionController.Delete (NZwalks.API) in 30.252ms
2025-09-13 20:13:57.885 +03:00 [INF] Executed endpoint 'NZwalks.API.Controllers.RegionController.Delete (NZwalks.API)'
2025-09-13 20:13:57.887 +03:00 [INF] Request finished HTTP/2 DELETE https://localhost:7189/api/Region/e4907de6-619a-46cd-bb62-08ddf2e8bfa5 - 200 null application/json; charset=utf-8 60.8097ms
2025-09-13 20:14:06.888 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/api/Walks?pageNumber=1&pageSize=100 - null null
2025-09-13 20:14:06.894 +03:00 [INF] Executing endpoint 'NZwalks.API.Controllers.WalksController.GetAll (NZwalks.API)'
2025-09-13 20:14:06.903 +03:00 [INF] Route matched with {action = "GetAll", controller = "Walks"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.String, System.String, System.String, System.Nullable`1[System.Boolean], Int32, Int32) on controller NZwalks.API.Controllers.WalksController (NZwalks.API).
2025-09-13 20:14:06.930 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-09-13 20:14:06.932 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-09-13 20:14:06.965 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [w0].[Id], [w0].[Description], [w0].[DifficultyId], [w0].[LengthInKm], [w0].[Name], [w0].[RegionId], [w0].[WalkImgUrl], [r].[Id], [r].[Code], [r].[Name], [r].[RegionImgURL], [d].[Id], [d].[Name]
FROM (
    SELECT [w].[Id], [w].[Description], [w].[DifficultyId], [w].[LengthInKm], [w].[Name], [w].[RegionId], [w].[WalkImgUrl]
    FROM [walks] AS [w]
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [w0]
INNER JOIN [regions] AS [r] ON [w0].[RegionId] = [r].[Id]
INNER JOIN [difficulties] AS [d] ON [w0].[DifficultyId] = [d].[Id]
2025-09-13 20:14:06.998 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[NZwalks.API.Models.DTO.WalkDto, NZwalks.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-13 20:14:07.017 +03:00 [INF] Executed action NZwalks.API.Controllers.WalksController.GetAll (NZwalks.API) in 111.4203ms
2025-09-13 20:14:07.021 +03:00 [INF] Executed endpoint 'NZwalks.API.Controllers.WalksController.GetAll (NZwalks.API)'
2025-09-13 20:14:07.023 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/api/Walks?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 134.5058ms
2025-09-13 20:14:21.452 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/api/Walks/ea294873-7a8c-4c0f-bfa7-a2eb492cbf8c - null null
2025-09-13 20:14:21.456 +03:00 [INF] Executing endpoint 'NZwalks.API.Controllers.WalksController.GetById (NZwalks.API)'
2025-09-13 20:14:21.466 +03:00 [INF] Route matched with {action = "GetById", controller = "Walks"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(System.Guid) on controller NZwalks.API.Controllers.WalksController (NZwalks.API).
2025-09-13 20:14:21.483 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [w].[Id], [w].[Description], [w].[DifficultyId], [w].[LengthInKm], [w].[Name], [w].[RegionId], [w].[WalkImgUrl]
FROM [walks] AS [w]
WHERE [w].[Id] = @__id_0
2025-09-13 20:14:21.489 +03:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-09-13 20:14:21.493 +03:00 [INF] Executed action NZwalks.API.Controllers.WalksController.GetById (NZwalks.API) in 23.2717ms
2025-09-13 20:14:21.495 +03:00 [INF] Executed endpoint 'NZwalks.API.Controllers.WalksController.GetById (NZwalks.API)'
2025-09-13 20:14:21.496 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/api/Walks/ea294873-7a8c-4c0f-bfa7-a2eb492cbf8c - 404 null application/problem+json; charset=utf-8 44.4547ms
2025-09-13 20:14:36.788 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/api/Walks/bdf28703-6d0e-4822-ad8b-e2923f4e95a2 - null null
2025-09-13 20:14:36.806 +03:00 [INF] Executing endpoint 'NZwalks.API.Controllers.WalksController.GetById (NZwalks.API)'
2025-09-13 20:14:36.807 +03:00 [INF] Route matched with {action = "GetById", controller = "Walks"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(System.Guid) on controller NZwalks.API.Controllers.WalksController (NZwalks.API).
2025-09-13 20:14:36.818 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [w].[Id], [w].[Description], [w].[DifficultyId], [w].[LengthInKm], [w].[Name], [w].[RegionId], [w].[WalkImgUrl]
FROM [walks] AS [w]
WHERE [w].[Id] = @__id_0
2025-09-13 20:14:36.826 +03:00 [INF] Executing OkObjectResult, writing value of type 'NZwalks.API.Models.DTO.WalkDto'.
2025-09-13 20:14:36.829 +03:00 [INF] Executed action NZwalks.API.Controllers.WalksController.GetById (NZwalks.API) in 13.8991ms
2025-09-13 20:14:36.831 +03:00 [INF] Executed endpoint 'NZwalks.API.Controllers.WalksController.GetById (NZwalks.API)'
2025-09-13 20:14:36.834 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/api/Walks/bdf28703-6d0e-4822-ad8b-e2923f4e95a2 - 200 null application/json; charset=utf-8 46.4106ms
2025-09-13 20:15:10.175 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7189/api/Walks - application/json 207
2025-09-13 20:15:10.185 +03:00 [INF] Executing endpoint 'NZwalks.API.Controllers.WalksController.Create (NZwalks.API)'
2025-09-13 20:15:10.193 +03:00 [INF] Route matched with {action = "Create", controller = "Walks"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(NZwalks.API.Models.DTO.AddWalkRequestDto) on controller NZwalks.API.Controllers.WalksController (NZwalks.API).
2025-09-13 20:15:10.205 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-09-13 20:15:10.207 +03:00 [INF] Executed action NZwalks.API.Controllers.WalksController.Create (NZwalks.API) in 10.704ms
2025-09-13 20:15:10.209 +03:00 [INF] Executed endpoint 'NZwalks.API.Controllers.WalksController.Create (NZwalks.API)'
2025-09-13 20:15:10.210 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7189/api/Walks - 400 null application/problem+json; charset=utf-8 35.2992ms
2025-09-13 20:15:24.538 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7189/api/Walks - application/json 233
2025-09-13 20:15:24.543 +03:00 [INF] Executing endpoint 'NZwalks.API.Controllers.WalksController.Create (NZwalks.API)'
2025-09-13 20:15:24.545 +03:00 [INF] Route matched with {action = "Create", controller = "Walks"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(NZwalks.API.Models.DTO.AddWalkRequestDto) on controller NZwalks.API.Controllers.WalksController (NZwalks.API).
2025-09-13 20:15:24.578 +03:00 [ERR] Failed executing DbCommand (13ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = Guid), @p3='?' (DbType = Double), @p4='?' (Size = 4000), @p5='?' (DbType = Guid), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [walks] ([Id], [Description], [DifficultyId], [LengthInKm], [Name], [RegionId], [WalkImgUrl])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-09-13 20:15:24.605 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'NZwalks.API.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_walks_regions_RegionId". The conflict occurred in database "NZwalks", table "dbo.regions", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:95e5de4a-ed69-43d4-ad4e-0cb0ca9428f8
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_walks_regions_RegionId". The conflict occurred in database "NZwalks", table "dbo.regions", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:95e5de4a-ed69-43d4-ad4e-0cb0ca9428f8
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-09-13 20:17:39.277 +03:00 [INF] Executed action NZwalks.API.Controllers.WalksController.Create (NZwalks.API) in 134730.1409ms
2025-09-13 20:17:39.281 +03:00 [INF] Executed endpoint 'NZwalks.API.Controllers.WalksController.Create (NZwalks.API)'
2025-09-13 20:17:39.389 +03:00 [ERR] 2414f4bc-a6bb-41b8-843b-45a7eef1cf3c  : An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_walks_regions_RegionId". The conflict occurred in database "NZwalks", table "dbo.regions", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:95e5de4a-ed69-43d4-ad4e-0cb0ca9428f8
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at NZwalks.API.Controllers.WalksController.Create(AddWalkRequestDto addWalkRequestDto) in C:\Users\abdur\projects\NZwalks.API\Controllers\WalksController.cs:line 41
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at NZwalks.API.Midldlewares.ExptionHandelerMiddleware.InvokeAsync(HttpContext context) in C:\Users\abdur\projects\NZwalks.API\Midldlewares\ExptionHandelerMiddleware.cs:line 20
2025-09-13 20:17:39.416 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7189/api/Walks - 500 null application/json; charset=utf-8 134878.6653ms
2025-09-13 20:19:48.611 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7189/api/Walks - application/json 233
2025-09-13 20:19:48.616 +03:00 [INF] Executing endpoint 'NZwalks.API.Controllers.WalksController.Create (NZwalks.API)'
2025-09-13 20:19:48.618 +03:00 [INF] Route matched with {action = "Create", controller = "Walks"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(NZwalks.API.Models.DTO.AddWalkRequestDto) on controller NZwalks.API.Controllers.WalksController (NZwalks.API).
2025-09-13 20:19:48.632 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = Guid), @p3='?' (DbType = Double), @p4='?' (Size = 4000), @p5='?' (DbType = Guid), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [walks] ([Id], [Description], [DifficultyId], [LengthInKm], [Name], [RegionId], [WalkImgUrl])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-09-13 20:19:48.637 +03:00 [INF] Executing OkObjectResult, writing value of type 'NZwalks.API.Models.DTO.WalkDto'.
2025-09-13 20:19:48.639 +03:00 [INF] Executed action NZwalks.API.Controllers.WalksController.Create (NZwalks.API) in 18.1128ms
2025-09-13 20:19:48.646 +03:00 [INF] Executed endpoint 'NZwalks.API.Controllers.WalksController.Create (NZwalks.API)'
2025-09-13 20:19:48.648 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7189/api/Walks - 200 null application/json; charset=utf-8 37.6505ms
2025-09-13 20:20:05.384 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7189/api/Walks?pageNumber=1&pageSize=100 - null null
2025-09-13 20:20:05.401 +03:00 [INF] Executing endpoint 'NZwalks.API.Controllers.WalksController.GetAll (NZwalks.API)'
2025-09-13 20:20:05.403 +03:00 [INF] Route matched with {action = "GetAll", controller = "Walks"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.String, System.String, System.String, System.Nullable`1[System.Boolean], Int32, Int32) on controller NZwalks.API.Controllers.WalksController (NZwalks.API).
2025-09-13 20:20:05.411 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [w0].[Id], [w0].[Description], [w0].[DifficultyId], [w0].[LengthInKm], [w0].[Name], [w0].[RegionId], [w0].[WalkImgUrl], [r].[Id], [r].[Code], [r].[Name], [r].[RegionImgURL], [d].[Id], [d].[Name]
FROM (
    SELECT [w].[Id], [w].[Description], [w].[DifficultyId], [w].[LengthInKm], [w].[Name], [w].[RegionId], [w].[WalkImgUrl]
    FROM [walks] AS [w]
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [w0]
INNER JOIN [regions] AS [r] ON [w0].[RegionId] = [r].[Id]
INNER JOIN [difficulties] AS [d] ON [w0].[DifficultyId] = [d].[Id]
2025-09-13 20:20:05.417 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[NZwalks.API.Models.DTO.WalkDto, NZwalks.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-13 20:20:05.420 +03:00 [INF] Executed action NZwalks.API.Controllers.WalksController.GetAll (NZwalks.API) in 14.796ms
2025-09-13 20:20:05.448 +03:00 [INF] Executed endpoint 'NZwalks.API.Controllers.WalksController.GetAll (NZwalks.API)'
2025-09-13 20:20:05.450 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7189/api/Walks?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 66.393ms
2025-09-13 20:20:20.405 +03:00 [INF] Request starting HTTP/2 DELETE https://localhost:7189/api/Walks/fc1cafe4-f66b-44e6-c7d5-08ddf2e920a6 - null null
2025-09-13 20:20:20.411 +03:00 [INF] Executing endpoint 'NZwalks.API.Controllers.WalksController.Delete (NZwalks.API)'
2025-09-13 20:20:20.419 +03:00 [INF] Route matched with {action = "Delete", controller = "Walks"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Delete(System.Guid) on controller NZwalks.API.Controllers.WalksController (NZwalks.API).
2025-09-13 20:20:20.425 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [w].[Id], [w].[Description], [w].[DifficultyId], [w].[LengthInKm], [w].[Name], [w].[RegionId], [w].[WalkImgUrl]
FROM [walks] AS [w]
WHERE [w].[Id] = @__id_0
2025-09-13 20:20:20.440 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [walks]
OUTPUT 1
WHERE [Id] = @p0;
2025-09-13 20:20:20.449 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2025-09-13 20:20:20.452 +03:00 [INF] Executed action NZwalks.API.Controllers.WalksController.Delete (NZwalks.API) in 29.4438ms
2025-09-13 20:20:20.453 +03:00 [INF] Executed endpoint 'NZwalks.API.Controllers.WalksController.Delete (NZwalks.API)'
2025-09-13 20:20:20.454 +03:00 [INF] Request finished HTTP/2 DELETE https://localhost:7189/api/Walks/fc1cafe4-f66b-44e6-c7d5-08ddf2e920a6 - 200 0 null 48.5827ms
